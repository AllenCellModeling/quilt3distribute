# Managing Manifests and Distributing Datasets

Jackson Brown
Allen Institute for Cell Science
Seattle, WA, USA
jacksonb@alleninstitute.org

In recent years, many scientific fields and industries have turned towards machine learning and computational modeling methods for high throughput analysis. A core component of computational modeling research, as with all research, is the affordability and ease of reproducing the results found by an experiment. It is common for computational researchers to share the original dataset used to generate the results found by the work, however, traditional methods for managing and distributing datasets composed of rows of scalar feature values, tend to not work well for imaging datasets that act more like a manifest, that is: a list of items (e.g. files) to package and distribute.

It is not clear how to store a dataset that may be made up of thousands of files and accompanying metadata. Containerization of data has been a common theme in recent years with distributing datasets. Following suit, our proposal for storage and distribution of manifest style datasets uses a software package that falls under the containerization umbrella. "Quilt" is a software package that adds a number of features to current state of the art storage systems (e.g. Amazon's S3). Of note: Quilt versions dataset containers (what it refers to as data packages), a desired feature for the computational sciences resource stack as versioned file storage supports the goal for having each experiment be easily reproducible.

Our work expands on state of the art methods by specifically targeting the distribution of manifest style datasets. For most computational modeling scientists at the Allen Institute for Cell Science, datasets are commonly tabular, with a column filled with file paths to larger resources (images). The rest of the tabular dataset is largely metadata about the files referenced in each row. To expand on the state of the art, we have created a package that attaches the metadata from other columns found in tabular manifest style dataset to each file before distributing them with Quilt. To help the end user of the dataset, our package additionally cleans and standardizes the metadata it finds. In the case, that a manifest has multiple columns that contain file paths to resources, our package constructs a lookup table for those shared file associations and places this lookup table in each file's metadata. An example of this would be an imaging manifest that has a column for full size images and a column for much smaller thumbnail images. For each row, our package makes an entry in each pairing of full size image and smaller thumbnail image's metadata with the path to the other. This is both for useful for navigation around the data package through metadata but also to retain each file's context in relation to the package as a whole.
